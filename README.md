# 英語学習単語帳 Chrome拡張

ウェブページで単語を選択して独自の単語帳を作成できるChrome拡張です。

## 機能詳細

### 1. 単語選択登録機能
- ウェブページ上でテキストを選択すると、自動的に登録ポップアップが表示されます
- 選択したテキストが100文字以内の場合にのみポップアップが表示されます
- ポップアップは選択位置の近くに表示され、直感的な操作が可能です

### 2. 文脈自動抽出機能
- 選択した単語を含む文章を自動的に抽出して保存します
- 文章の区切り文字（.!?。！？）を基準に適切な文脈を取得します
- 200文字を超える場合は省略表示されます

### 3. 多項目データ保存
- **単語**: 選択したテキスト（編集可能）
- **意味**: 任意で入力可能な日本語の意味
- **文章**: 自動抽出された文脈（編集可能）
- **URL**: 単語を選択したウェブページのURL
- **登録日時**: 単語を保存した日時

### 4. 永続化ストレージ
- Chrome Storage APIを使用してデータを永続保存
- ブラウザを再起動してもデータが保持されます
- 拡張を無効化しても、再有効化時にデータが復元されます

### 5. 単語帳管理機能
- **一覧表示**: 登録した単語を新しい順に表示
- **編集機能**: 各単語の内容をその場で編集可能
- **削除機能**: 不要な単語を個別に削除
- **全削除機能**: 確認ダイアログ付きで全データを削除

### 6. 検索・フィルター機能
- 単語、意味、文章の内容で部分一致検索
- リアルタイムで検索結果が更新
- 大文字・小文字を区別しない検索

### 7. データエクスポート機能
- CSV形式でのデータエクスポート
- Excel等で開いて外部での学習に活用可能
- UTF-8 BOM付きで日本語文字化け対策済み

### 8. ユーザビリティ機能
- **通知機能**: 単語保存時に成功通知を表示
- **統計表示**: 登録済み単語数をリアルタイム表示
- **レスポンシブUI**: 400px幅のポップアップで見やすい表示
- **キーボード操作**: Escキーでポップアップを閉じる

## インストール方法

1. Chrome拡張機能の開発者モードを有効にする
   - `chrome://extensions/` にアクセス
   - 右上の「デベロッパーモード」をオンにする

2. 拡張機能を読み込む
   - 「パッケージ化されていない拡張機能を読み込む」をクリック
   - このフォルダを選択

## 詳細な使用方法

### 単語登録の流れ

1. **単語選択**
   - 英語サイトやPDF等で学習したい単語をマウスで選択
   - 選択後、少し待つと登録ポップアップが自動表示されます

2. **登録情報の入力・確認**
   - **単語**: 選択したテキストが自動入力されますが、編集も可能
   - **文章**: 選択した単語を含む文脈が自動で抽出・表示されます
   - **意味**: 任意で日本語の意味を入力できます（後から編集可能）

3. **保存**
   - 「保存」ボタンをクリックして単語帳に登録
   - 成功すると右上に「単語を保存しました！」という通知が表示されます
   - 「キャンセル」ボタンまたはEscキーで登録をキャンセルできます

### 単語帳の管理

1. **単語帳を開く**
   - ブラウザ右上の拡張アイコン（📚）をクリック
   - 400px幅のポップアップで単語帳が開きます

2. **単語の表示**
   - 登録した単語が新しい順に一覧表示されます
   - 各単語には以下の情報が表示されます：
     - 単語（太字）
     - 意味（イタリック体、入力時のみ）
     - 文章（背景色付きボックス）
     - 登録元URL（ドメイン名のみ表示）
     - 登録日時（月/日 時:分形式）

3. **検索機能の使用**
   - 上部の検索ボックスに文字を入力
   - 単語、意味、文章の内容で部分一致検索が可能
   - 入力と同時にリアルタイムで結果が絞り込まれます

4. **単語の編集**
   - 各単語の「編集」ボタンをクリック
   - 編集フォームが展開され、単語・意味・文章を修正可能
   - 「保存」で変更を確定、「キャンセル」で元に戻します

5. **単語の削除**
   - 個別削除: 各単語の「削除」ボタンで確認ダイアログ表示後削除
   - 全削除: 「全削除」ボタンで確認ダイアログ表示後、全データを削除

6. **データのエクスポート**
   - 「エクスポート」ボタンをクリック
   - 「単語帳_YYYY-MM-DD.csv」形式でファイルがダウンロードされます
   - Excel等で開いて学習に活用できます

### 操作のコツ

- **効率的な登録**: 英語記事を読みながら、知らない単語をどんどん選択して登録
- **文脈学習**: 単語だけでなく、文章も一緒に保存されるので文脈で覚えられます
- **復習活用**: 検索機能を使って特定のトピックの単語をまとめて復習
- **外部活用**: CSVエクスポート機能で他の学習ツールにデータを移行

## ファイル構成

- `manifest.json` - 拡張の設定ファイル
- `content.js/css` - ウェブページに挿入されるスクリプト
- `background.js` - バックグラウンドで動作するサービスワーカー
- `popup.html/js/css` - 拡張ポップアップのUI
- `icons/` - 拡張アイコン用フォルダ

## 必要なアイコン

以下のサイズのアイコンファイルを `icons/` フォルダに配置してください：
- `icon16.png` (16x16px)
- `icon48.png` (48x48px) 
- `icon128.png` (128x128px)